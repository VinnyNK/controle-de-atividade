(this["webpackJsonpactivity-control"]=this["webpackJsonpactivity-control"]||[]).push([[0],{38:function(e,t,c){},40:function(e,t,c){},41:function(e,t,c){},43:function(e,t,c){},44:function(e,t,c){},45:function(e,t,c){},46:function(e,t,c){},47:function(e,t,c){},55:function(e,t,c){},56:function(e,t,c){"use strict";c.r(t);var n=c(2),a=c.n(n),i=c(30),s=c.n(i),o=(c(38),c(26)),r=c.n(o),l=c(31),d=c(18),j=c(15),u=c(14),b=(c(40),c(41),c(1));function h(e){return Object(b.jsxs)("div",{className:"status",children:[Object(b.jsx)("div",{className:"title",children:Object(b.jsx)("p",{className:e.color,children:e.name})}),Object(b.jsx)("div",{className:"tickets-number",children:Object(b.jsx)("p",{children:e.number})})]})}c(43),c(44);var O=c(8);c(45);function x(e){return e.showHistory?Object(b.jsx)("ul",{className:"history",children:e.history.map((function(e,t){return Object(b.jsxs)("li",{children:[Object(b.jsx)("small",{children:e.date})," - ",e.text]},t)}))}):null}function v(e){var t,c=Object(n.useState)(!1),a=Object(u.a)(c,2),i=a[0],s=a[1],o=function(t){e.onClose(t)},r=Object(j.a)({},null!==(t=e.activity)&&void 0!==t?t:{name:"",description:"",status:"",user:""}),l=function(e){r[e.target.dataset.index]=e.target.value};return e.show?Object(b.jsx)("div",{className:"modal",children:Object(b.jsxs)("div",{className:"modal-content",children:[Object(b.jsx)("span",{className:"close",onClick:o,children:"\xd7"}),Object(b.jsx)("h2",{children:e.activity?"Editar Atividade ".concat(e.activity.name):"Criar Nova Atividade"}),Object(b.jsxs)("div",{className:"modal-form v-row justify-space-between",children:[Object(b.jsxs)("div",{className:"col col-6 col-s-12",children:[Object(b.jsx)("label",{htmlFor:"activity",children:"Nome da Atividade"}),Object(b.jsx)("input",{type:"text",id:"activity",name:"activity","data-index":"name",defaultValue:r.name,onChange:l}),Object(b.jsx)("label",{htmlFor:"descricao",children:"Descri\xe7\xe3o"}),Object(b.jsx)("textarea",{"data-index":"description",defaultValue:r.description,onChange:l})]}),Object(b.jsxs)("div",{className:"col col-5 col-s-12",children:[Object(b.jsx)("label",{htmlFor:"status",children:"Status"}),Object(b.jsxs)("select",{id:"status",name:"status","data-index":"status",defaultValue:r.status,onChange:l,children:[Object(b.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Selecione Status"}),Object(b.jsx)("option",{value:"Pendente",children:"Pendente"}),Object(b.jsx)("option",{value:"Em Andamento",children:"Em Andamento"}),Object(b.jsx)("option",{value:"Finalizado",children:"Finalizado"}),Object(b.jsx)("option",{value:"Cancelado",children:"Cancelado"})]}),Object(b.jsx)("label",{htmlFor:"user",children:"Respons\xe1vel"}),Object(b.jsxs)("select",{id:"user",name:"user","data-index":"user",defaultValue:r.user,onChange:l,children:[Object(b.jsx)("option",{value:"",disabled:!0,hidden:!0,children:"Selecione o Respons\xe1vel"}),Object(b.jsx)("option",{value:"User1",children:"User1"}),Object(b.jsx)("option",{value:"User2",children:"User2"})]}),Object(b.jsx)(x,{history:r.history,showHistory:i})]})]}),Object(b.jsxs)("div",{className:"actions",children:[Object(b.jsx)("button",{className:"save-button",onClick:function(){if(e.activity){var t=new Date;r.status!==e.activity.status&&r.history.push({date:"".concat(t.getDate(),"/").concat(t.getUTCMonth()+1,"/").concat(t.getUTCFullYear()),text:"Status alterado para: ".concat(r.status," por: ").concat(O.a.auth().currentUser.displayName)}),r.user!==e.activity.user&&r.history.push({date:"".concat(t.getDate(),"/").concat(t.getUTCMonth()+1,"/").concat(t.getUTCFullYear()),text:"Respons\xe1vel alterado para: ".concat(r.user," por: ").concat(O.a.auth().currentUser.displayName)})}e.onSave(r)},children:"Salvar"}),Object(b.jsx)("button",{className:"cancel-button",onClick:o,children:"Cancelar"}),r.history?Object(b.jsx)("button",{className:"transparent-button",onClick:function(){s(!i)},children:"Mostrar Hist\xf3rico"}):""]})]})}):null}function m(e){var t=Object(n.useState)(!1),c=Object(u.a)(t,2),a=c[0],i=c[1],s=Object(n.useState)("All"),o=Object(u.a)(s,2),r=o[0],l=o[1],j=Object(n.useState)(null),h=Object(u.a)(j,2),O=h[0],x=h[1],m=Object(d.a)(e.activities);return Object(b.jsxs)("div",{children:[Object(b.jsxs)("div",{className:"filter",children:[Object(b.jsx)("label",{htmlFor:"filter",children:"Filtrar Status"}),Object(b.jsxs)("select",{id:"status",name:"status","data-index":"status",onChange:function(e){l(e.target.value)},children:[Object(b.jsx)("option",{value:"All",children:"Todos"}),Object(b.jsx)("option",{value:"Pendente",children:"Pendente"}),Object(b.jsx)("option",{value:"Em Andamento",children:"Em Andamento"}),Object(b.jsx)("option",{value:"Finalizado",children:"Finalizado"}),Object(b.jsx)("option",{value:"Cancelado",children:"Cancelado"})]})]}),Object(b.jsxs)("div",{className:"table-responsive costum-table-dark",children:[Object(b.jsxs)("table",{className:"table",children:[Object(b.jsx)("thead",{children:Object(b.jsxs)("tr",{children:[Object(b.jsx)("th",{width:"2%",children:"#"}),Object(b.jsx)("th",{children:"Atividade"}),Object(b.jsx)("th",{children:"Respons\xe1vel"}),Object(b.jsx)("th",{children:"Status"})]})}),Object(b.jsx)("tbody",{children:m.map((function(e,t){return"All"===r||e.status===r?Object(b.jsxs)("tr",{onClick:function(){i(!0),x(e)},children:[Object(b.jsx)("td",{children:e.id}),Object(b.jsx)("td",{children:e.name}),Object(b.jsx)("td",{children:e.user}),Object(b.jsx)("td",{children:e.status})]},t):Object(b.jsx)("tr",{},t)}))})]}),Object(b.jsx)(v,{onClose:function(){return i(!1)},onSave:function(t){return function(t){e.onEdit(t),i(!1)}(t)},show:a,activity:O})]})]})}c(46);function p(e){var t=[e.activities.reduce((function(e,t){return"Pendente"===t.status?e+1:e}),0),e.activities.reduce((function(e,t){return"Em Andamento"===t.status?e+1:e}),0),e.activities.reduce((function(e,t){return"Finalizado"===t.status?e+1:e}),0),e.activities.reduce((function(e,t){return"Cancelado"===t.status?e+1:e}),0)],c=t[0],n=t[1],a=t[2],i=t[3];return Object(b.jsx)("div",{children:Object(b.jsxs)("div",{className:"v-row justify-center",children:[Object(b.jsx)("div",{className:"col col-3 col-s-6",children:Object(b.jsx)(h,{name:"Pendente",color:"primary",number:c})}),Object(b.jsx)("div",{className:"col col-3 col-s-6",children:Object(b.jsx)(h,{name:"Em Andamento",color:"caution",number:n})}),Object(b.jsx)("div",{className:"col col-3 col-s-6",children:Object(b.jsx)(h,{name:"Finalizado",color:"success",number:a})}),Object(b.jsx)("div",{className:"col col-3 col-s-6",children:Object(b.jsx)(h,{name:"Cancelado",color:"danger",number:i})}),Object(b.jsx)("div",{className:"col col-10 col-s-12 table-list",children:Object(b.jsx)(m,{activities:e.activities,onEdit:function(t){return function(t){e.onEditActivity(t)}(t)}})})]})})}c(47);function f(e){var t=Object(n.useState)(!1),c=Object(u.a)(t,2),a=c[0],i=c[1];return Object(b.jsxs)("div",{children:[Object(b.jsxs)("nav",{children:[Object(b.jsx)("h1",{children:"logo"}),Object(b.jsxs)("ul",{children:[Object(b.jsx)("li",{children:Object(b.jsx)("button",{"data-text":"Criar Atividade",onClick:function(){return i(!0)},children:"Criar Atividade"})}),Object(b.jsx)("li",{children:Object(b.jsx)("button",{"data-text":"Sair",onClick:function(){return O.a.auth().signOut()},children:"Sair"})})]})]}),Object(b.jsx)(v,{onClose:function(){return i(!1)},show:a,onSave:function(t){e.onCreate(t),i(!1)}})]})}var g=c(5);function C(e){var t=Object(n.useState)([]),c=Object(u.a)(t,2),a=c[0],i=c[1],s=Object(g.f)(),o=function(){var t=Object(l.a)(r.a.mark((function t(){var c;return r.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c=e.db.collection("activities"),t.next=3,c.get();case 3:t.sent.docs.forEach((function(e){a.push(Object(j.a)({id:e.id},e.data())),i(Object(d.a)(a))}));case 5:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){return O.a.auth().onAuthStateChanged((function(e){e?o():s.push("/controle-de-atividade/login")})),function(){i([])}}),[]),Object(b.jsxs)("div",{className:"app",children:[Object(b.jsx)("div",{children:Object(b.jsx)(f,{activities:a,onCreate:function(t){return function(t){var c=new Date;t=Object(j.a)(Object(j.a)({},t),{},{history:[{date:"".concat(c.getDate(),"/").concat(c.getUTCMonth()+1,"/").concat(c.getUTCFullYear()),text:"Atividade Criada por: ".concat(O.a.auth().currentUser.displayName)}]}),e.db.collection("activities").add(Object(j.a)({},t)).then((function(e){a.push(Object(j.a)({id:e.id},t)),i(Object(d.a)(a))}))}(t)}})}),Object(b.jsx)("div",{className:"content",children:Object(b.jsx)(p,{activities:a,onEditActivity:function(t){return function(t){var c=Object(j.a)({},t);delete c.id,e.db.collection("activities").doc(t.id).update(Object(j.a)({},c)).then((function(){var e=a.findIndex((function(e){return e.id===t.id}));a[e]=t,i(Object(d.a)(a))}))}(t)}})})]})}var y=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,58)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,i=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),i(e),s(e)}))},N=(c(52),c(57),c(22));c(55);function S(){var e=new O.a.auth.GoogleAuthProvider,t=Object(g.f)();O.a.auth().useDeviceLanguage();return Object(b.jsx)("div",{className:"app",children:Object(b.jsx)("div",{className:"content",children:Object(b.jsxs)("div",{className:"google-btn",onClick:function(){O.a.auth().signInWithPopup(e).then((function(){t.push("/")}))},children:[Object(b.jsx)("div",{className:"google-icon-wrapper",children:Object(b.jsx)("img",{className:"google-icon",src:"https://upload.wikimedia.org/wikipedia/commons/5/53/Google_%22G%22_Logo.svg",alt:"Google Logo"})}),Object(b.jsx)("p",{className:"btn-text",children:Object(b.jsx)("b",{children:"Sign in with google"})})]})})})}var A={apiKey:"AIzaSyDSsSjhJMemRDFfU72Y28exCqUlCFDaSXI",authDomain:"activity-control-a25d9.firebaseapp.com",projectId:"activity-control-a25d9",storageBucket:"activity-control-a25d9.appspot.com",messagingSenderId:"793930025633",appId:"1:793930025633:web:6fb9771e34ad06a8f1bee0",measurementId:"G-ZT69T3H47B"};document.title="Controle de Atividades",O.a.apps.length?O.a.app():O.a.initializeApp(A);var w=O.a.firestore();s.a.render(Object(b.jsx)(a.a.StrictMode,{children:Object(b.jsx)(N.a,{children:Object(b.jsxs)(g.c,{children:[Object(b.jsx)(g.a,{exact:!0,path:"/controle-de-atividade/",children:Object(b.jsx)(C,{db:w})}),Object(b.jsx)(g.a,{exact:!0,path:"/controle-de-atividade/login",children:Object(b.jsx)(S,{})})]})})}),document.getElementById("root")),y()}},[[56,1,2]]]);
//# sourceMappingURL=main.200e7c0b.chunk.js.map